var __extends=this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);o.prototype=e.prototype,t.prototype=new o};jQuery.fn.scrollParent=function(){var t=/(auto|scroll)/,e=this.css("position"),o="absolute"===e,r=this.parents().filter(function(){var e=$(this);return o&&"static"===e.css("position")?!1:t.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:$(this[0].ownerDocument||document)};var Lab;!function(t){var e=function(){function t(t){this.HireProjectService=t,this.project=null,this.thankYouMessageShow=!1,this.error={},this.project=new p}return t.prototype.submit=function(){var t=this;this.HireProjectService.hire(this.project).then(function(){t.thankYouMessageShow=!0},function(e){t.error=e})},t.$inject=["HireProjectService"],t}();t.HireController=e;var o=function(){function t(){this.pages=["splash","products","projects","clients","blog","hire"],this.pageIndex=0}return t.prototype.$get=function(){return{pages:this.pages,pageIndex:this.pageIndex}},t.prototype.setPages=function(t){this.pages=t},t.prototype.setPageIndex=function(t){this.pageIndex=t},t}();t.DataProvider=o;var r=function(){function t(){}return t}();t.AppController=r;var n=function(){function t(){}return t}();t.RootController=n;var i=function(){function t(t,e,o,r,n,i,s,a,l){var c=this;this.$scope=t,this.$state=e,this.$stateParams=o,this.$window=r,this.$interval=n,this.$location=i,this.DataProvider=s,this.smoothScroll=a,this.$timeout=l,this.pages=null,this.pageIndex=0,this.blockScrollPromise=null,this.dragStart=null,this.dragDelta=0,this.dragThreshold=10,this.pageClass="",this.nextClass=!1,this.pages=s.pages,this.pageIndex=s.pages.indexOf(i.hash()),null!=o.p&&(this.pageIndex=s.pages.indexOf(o.p)),t.$watch(function(){return c.$state.params.p},function(t){c.pageIndex=s.pages.indexOf(t)})}return t.prototype.scrollToPage=function(t){var e=$("#"+t);null!=e&&this.$timeout(function(){var t=e.scrollParent().scrollTop();e.scrollParent().scrollTop(t+e.position().top)})},t.prototype.hire=function(){return this.scrollToPage("hire"),!1},t.prototype.clickIndicator=function(t){this.pageIndex=t;var e=this.pages[this.pageIndex];this.$location.search({p:e}),this.scrollToPage(e)},t.$inject=["$scope","$state","$stateParams","$window","$interval","$location","Data","smoothScroll","$timeout"],t}();t.HomeController=i;var s=function(){function t(t,e,o,r){this.$stateProvider=t,this.$urlRouterProvider=e,this.DataProvider=o,this.$uiViewScrollProvider=r,e.otherwise("/"),t.state("hearnear",{url:"/projects/hearnear",templateUrl:"hearnear.html",controller:"ProjectsController",controllerAs:"root",reloadOnSearch:!1}).state("deploybutton",{url:"/projects/deploybutton",templateUrl:"deployButton.html",controller:"ProjectsController",controllerAs:"root",reloadOnSearch:!1}).state("grove",{url:"/projects/grove",templateUrl:"grove.html",controller:"ProjectsController",controllerAs:"root",reloadOnSearch:!1}).state("days",{url:"/process/days?p",templateUrl:"days.html",controller:"ProcessController",controllerAs:"root",reloadOnSearch:!1}).state("blog",{url:"/blog/:name",controller:"BlogController",controllerAs:"root",reloadOnSearch:!1,templateUrl:function(t){return t.name.replace(/' '/g,"_")+".html"}}).state("home",{url:"/?p",templateUrl:"home.html",controller:"HomeController",controllerAs:"root",reloadOnSearch:!1}),Parse.initialize("HXP7cpPxTuASNcsWDCRCnjNtEyZbEtRIDQDmon3s","PKSAaqbYJTk7B8jKkixBCECdpsN03PwXXyfv48Rh")}return t.$inject=["$stateProvider","$urlRouterProvider","DataProvider","$uiViewScrollProvider"],t}();t.Config=s;var a=function(){function t(t){this.$state=t}return t.prototype.back=function(){this.$state.go("home")},t.$inject=["$state"],t}();t.DetailController=a;var l=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.back=function(){this.$state.go("home",{p:"projects"})},e}(a);t.ProjectsController=l;var c=function(t){function e(e,o,r,n,i){var s=this;t.call(this,o),this.$scope=e,this.$state=o,this.$stateParams=r,this.$anchorScroll=n,this.$location=i,e.$watch(function(){return s.$state.params.p},function(){})}return __extends(e,t),e.prototype.back=function(){this.$state.go("home",{p:"process"})},e.$inject=["$scope","$state","$stateParams","$anchorScroll","$location","$timeout"],e}(a);t.ProcessController=c;var u=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.back=function(){this.$state.go("home",{p:"blog"})},e}(a);t.BlogController=u;var h=function(){function t(t){this.$q=t}return t.prototype.hire=function(t){var e=Parse.Object.extend("Project"),o=new e;o.set("name",t.name),o.set("email",t.email),o.set("phone",t.phone),o.set("isMobile",t.isMobile),o.set("isWeb",t.isWeb),o.set("desc",t.desc),o.set("budget",t.budget);var r=new Parse.ACL;r.setPublicReadAccess(!1),r.setPublicWriteAccess(!1),o.setACL(r);var n=this.$q.defer();return o.save(null,{success:function(t){n.resolve(t)},error:function(t,e){n.reject(JSON.parse(e.message))}}),n.promise},t.$inject=["$q"],t}();t.HireProjectService=h;var p=function(){function t(t,e,o,r,n,i,s){this.name=t,this.email=e,this.phone=o,this.isMobile=r,this.isWeb=n,this.desc=i,this.budget=s}return t}();t.HireProject=p;var f=function(){function t(){}return t.hideChrome=function(t,e){var o=!1;return t.find(".page-control").length>0&&(t.find(".page-control").addClass("hide"),o=!0),t.find(".logoWrap").length>0&&(t.find(".logoWrap").addClass("hide"),o=!0),t.find(".beaker").length>0&&(e.addClass(t.find(".beaker"),"hide"),o=!0),t.find(".story-image-label").length>0&&(t.find(".story-image-label").addClass("hide"),o=!0),o},t.expandElement=function(t){return 0==t.length?!1:(t.addClass("expand"),!0)},t.fadeElements=function(t){return 0==t.length?!1:(t.addClass("hide"),!0)},t.popoutAndExpand=function(t){if(0==t.length)return!1;var e=t.parent();return t.clone().css({top:t.position().top,left:t.position().left}).appendTo(e).animate({left:0,top:0,"min-height":"100%","max-width":"50%","min-width":"50%"},300).addClass("expanding"),e.animate({background:"#fff"}),!0},t.fadePage=function(t,e){return 0==t.length||0==e.length?!1:t.hasClass("state-blog")?!1:(t.addClass("hide"),!0)},t}();t.Animator=f;var d=function(){function t(t,e,o){var r=this;this.$timeout=t,this.$q=e,this.$animate=o,this.enter=function(t,e){t.css({"z-index":0,opacity:0,position:"absolute"}),t.animate({opacity:1},200,e)},this.leave=function(t,e){t.css({"z-index":100,position:"absolute"});var o=t.find(".clicked[ui-sref]"),n=o.parents(".page"),i=function(){if(n.length>0){var t=n.offsetParent().scrollTop()+n.offset().top;return n.offsetParent().animate({scrollTop:t},100),r.$timeout(function(){},100)}return r.$timeout(function(){},0)},s=function(){return r.$timeout(function(){},f.hideChrome(n,r.$animate)?100:0)},a=function(){return r.$timeout(function(){},f.expandElement(n)?100:0)},l=function(){return r.$timeout(function(){},f.fadeElements(n)?200:0)},c=function(){return r.$timeout(function(){},f.fadePage(t,o)?500:0)};r.$q.all([i(),s(),a()]).then(function(){return r.$q.all([l()])}).then(c).then(e)}}return t.factory=function(){var e=function(e,o,r){return new t(e,o,r)};return e.$inject=["$timeout","$q","$animate"],e},t.$inject=["$timeout","$q","$animate"],t}();t.StateHomeProjects=d}(Lab||(Lab={})),angular.module("app",["ngAnimate","ui.router","smoothScroll","scrollId","toggleClass","storybook"]).config(Lab.Config).service("HireProjectService",Lab.HireProjectService).controller("HireController",Lab.HireController).controller("DetailController",Lab.DetailController).controller("AppController",Lab.AppController).controller("HomeController",Lab.HomeController).controller("ProjectsController",Lab.ProjectsController).controller("ProcessController",Lab.ProcessController).controller("BlogController",Lab.BlogController).controller("RootController",Lab.RootController).provider("Data",Lab.DataProvider).animation(".page-change",Lab.StateHomeProjects.factory());